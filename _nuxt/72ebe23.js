(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{709:function(e,t,r){var content=r(724);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(12).default)("b43a4268",content,!0,{sourceMap:!1})},718:function(e,t,r){var content=r(746);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(12).default)("669b1c28",content,!0,{sourceMap:!1})},723:function(e,t,r){"use strict";r(709)},724:function(e,t,r){var n=r(11)((function(i){return i[1]}));n.push([e.i,".yrn-drag-and-drop-with-two-lists .v-chip__content{display:flex!important;width:100%}.yrn-drag-and-drop-with-two-lists__list-group-item{background-color:rgba(0,0,0,.5);cursor:grab}.yrn-drag-and-drop-with-two-lists__drop-list{border-style:dashed;border-width:3px;height:calc(100% - 48px);min-height:128px}.yrn-drag-and-drop-with-two-lists__drop-list .yrn-drag-and-drop-with-two-lists__list-group-item{background-color:rgba(0,0,0,.5)}.theme--dark .yrn-drag-and-drop-with-two-lists .v-card{color:hsla(0,0%,100%,.75)}.theme--light .yrn-drag-and-drop-with-two-lists .v-card{color:rgba(0,0,0,.5)}",""]),n.locals={},e.exports=n},736:function(e,t,r){"use strict";r.r(t);var n=r(322),o=r(288),c=r(295),l=r(702),d=r(705),h=r(773),v=r(243),f=r(701),m=(r(21),r(154),r(837)),y={name:"YrnDragAndDropWithTwoLists",components:{VueDraggable:r(716).a},props:{draggableItemsTitle:{required:!0,type:Object},dropAreaTitle:{required:!0,type:Object},listOne:{required:!0,type:Array},listTwo:{default:function(){return[]},required:!1,type:Array},visibleProperty:{default:"name",required:!1,type:String}},data:function(){return{componentWidth:0,list1:[],list2:[]}},computed:{translatedDraggableItemsTitle:function(){var e;return null!==(e=this.draggableItemsTitle[this.$i18n.locale])&&void 0!==e?e:""},translatedDropAreaTitle:function(){var e;return null!==(e=this.dropAreaTitle[this.$i18n.locale])&&void 0!==e?e:""}},mounted:function(){this.updateComponentWidth(),window.addEventListener("resize",this.updateComponentWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.updateComponentWidth)},created:function(){this.list1=this.listOne,this.list2=this.listTwo},methods:{getElementVisibleProperty:function(element){var e,t;return null!=element&&null!==(e=element[this.visibleProperty])&&void 0!==e&&e[this.$i18n.locale]?element[this.visibleProperty][this.$i18n.locale]:null!==(t=element[this.visibleProperty])&&void 0!==t?t:""},getVForKey:function(e){return"".concat(e,"--").concat(Object(m.a)())},removeElementFromList:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list2).splice(e,1)},resetList2:function(){this.list2=[]},updateComponentWidth:function(){var e,t;this.componentWidth=null!==(e=null===(t=this.$refs)||void 0===t||null===(t=t.componentContainer)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:0}}},w=y,x=(r(723),r(23)),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;return t(d.a,{ref:"componentContainer",staticClass:"yrn-drag-and-drop-with-two-lists pa-0"},[t(f.a,[t(l.a,{attrs:{xl:e.componentWidth>400?6:12,lg:e.componentWidth>400?6:12,md:e.componentWidth>400?6:12,sm:e.componentWidth>400?6:12,xs:"12",cols:"12"}},[t("h3",{staticClass:"mb-1"},[e._v("\n        "+e._s(e.translatedDraggableItemsTitle)+"\n      ")]),e._v(" "),t("VueDraggable",{staticClass:"d-flex flex-column",attrs:{animation:150,group:{name:"carMovements",pull:"clone",put:!1},sort:!1},model:{value:e.list1,callback:function(t){e.list1=t},expression:"list1"}},e._l(e.list1,(function(element,r){return t(c.a,{key:e.getVForKey(r),staticClass:"yrn-drag-and-drop-with-two-lists__list-group-item mb-1 py-5 rounded-xxl d-flex"},[element.icon?t(v.a,{staticClass:"mr-2",attrs:{color:"orange"}},[e._v("\n            "+e._s(element.icon)+"\n          ")]):e._e(),e._v(" "),t("span",{staticClass:"text-subtitle-1"},[e._v("\n            "+e._s(e.getElementVisibleProperty(element))+"\n          ")]),e._v(" "),t(v.a,{staticClass:"ml-auto",attrs:{large:""}},[e._v("\n            mdi-drag-horizontal-variant\n          ")])],1)})),1)],1),e._v(" "),t(l.a,{class:{"pt-3":e.componentWidth>400},attrs:{xl:e.componentWidth>400?6:12,lg:e.componentWidth>400?6:12,md:e.componentWidth>400?6:12,sm:e.componentWidth>400?6:12,xs:"12",cols:"12"}},[t("h3",{staticClass:"mb-3"},[e._v("\n        "+e._s(e.translatedDropAreaTitle)+"\n      ")]),e._v(" "),t(o.a,{staticClass:"rounded-xxl",attrs:{elevation:"0"}},[t("VueDraggable",{staticClass:"yrn-drag-and-drop-with-two-lists__drop-list pa-3",attrs:{animation:150,group:"carMovements"},model:{value:e.list2,callback:function(t){e.list2=t},expression:"list2"}},[0===e.list2.length?t("div"):e._e(),e._v(" "),e._l(e.list2,(function(element,r){return t(c.a,{key:e.getVForKey(r),staticClass:"yrn-drag-and-drop-with-two-lists__list-group-item mb-1 py-5 rounded-xxl d-flex"},[element.icon?t(v.a,{staticClass:"mr-2",attrs:{color:"orange"}},[e._v("\n              "+e._s(element.icon)+"\n            ")]):e._e(),e._v(" "),t("span",{staticClass:"text-subtitle-1"},[e._v("\n              "+e._s(e.getElementVisibleProperty(element))+"\n            ")]),e._v(" "),t(v.a,{staticClass:"ml-auto",attrs:{large:""}},[e._v("\n              mdi-drag-horizontal-variant\n            ")]),e._v(" "),t(n.a,{attrs:{icon:""},on:{click:function(t){return e.removeElementFromList(r)}}},[t(h.a,{scopedSlots:e._u([{key:"default",fn:function(r){var n=r.hover;return[t(v.a,{attrs:{color:n?"red":"default"}},[e._v("\n                  mdi-close-circle\n                ")])]}}],null,!0)})],1)],1)}))],2)],1)],1)],1),e._v(" "),t(f.a,[t(l.a,{staticClass:"d-flex justify-center"},[e._t("bottom")],2)],1)],1)}),[],!1,null,null,null);t.default=component.exports},745:function(e,t,r){"use strict";r(718)},746:function(e,t,r){var n=r(11)((function(i){return i[1]}));n.push([e.i,".yrn-alert-text .v-alert[data-v-45cecba4]{color:#fff}",""]),n.locals={},e.exports=n},766:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"ar":{"defineCarMoves":"يحدد التسلسل الضروري للحركات للوصول إلى محطة الشحن.","executeSequenceOfMoves":"تشغيل التسلسل","gameRules":["قد السيارة إلى محطة الشحن.","السيارة مكابحها مكسورة. في كل مرة تتقدم فيها، قد السيارة إلى نهاية الطريق.","كلما تقدمت السيارة، تستهلك قليلاً أكثر من 16٪ من إجمالي سعة البطارية."],"resetBtn":"إعادة تعيين","resetBtnCar":"إعادة تعيين موضع السيارة الأصلي","resetBtnMoves":"مسح التسلسل الحالي للحركات"},"ca":{"defineCarMoves":"Defineix la seqüència de moviments necessaris per arribar a l\'estació de càrrega.","executeSequenceOfMoves":"Executa la seqüència","gameRules":["Conduir el cotxe fins a la estació de càrrega.","El cotxe té els frens trencats. Cada vegada que avança, porta el cotxe fins al final de la carretera.","Cada vegada que el cotxe avança, consumeix una mica més del 16% del total de la capacitat de la bateria."],"resetBtn":"Reiniciar","resetBtnCar":"Restaurar la posició inicial del cotxe","resetBtnMoves":"Esborrar la seqüència de moviments actual"},"de":{"defineCarMoves":"Definiert die Sequenz der Bewegungen, die notwendig sind, um die Ladestation zu erreichen.","executeSequenceOfMoves":"Ablauffolge ausführen","gameRules":["Fahre das Auto zur Ladestation.","Die Bremsen des Autos sind kaputt. Jedes Mal, wenn es vorwärts fährt, fährt das Auto bis zum Ende der Straße.","Jedes Mal, wenn das Auto vorwärts fährt, verbraucht es etwas mehr als 16% der gesamten Batteriekapazität."],"resetBtn":"Zurücksetzen","resetBtnCar":"Setzt die ursprüngliche Position des Autos zurück","resetBtnMoves":"Lösche die aktuelle Bewegungssequenz"},"en":{"defineCarMoves":"Defines the sequence of movements necessary to reach the charging station.","executeSequenceOfMoves":"Run sequence","gameRules":["Drive the car to the charging station.","The car\'s brakes are broken. Every time it moves forward, drive the car to the end of the road.","Every time the car moves forward, it consumes a bit more than 16% of the total battery capacity."],"resetBtn":"Reset","resetBtnCar":"Reset car\'s initial position","resetBtnMoves":"Clear current sequence of moves"},"es":{"defineCarMoves":"Define la secuencia de movimientos necesarios para llegar a la estación de carga.","executeSequenceOfMoves":"Ejecutar secuencia","gameRules":["Conduce el coche hasta el punto de carga.","El coche tiene los frenos rotos. Cada vez que avanza, lleva el coche hasta el final de la carretera.","Cada vez que el coche avanza, consume un poco más del 16% del total de capacidad de la batería."],"resetBtn":"Reiniciar","resetBtnCar":"Restablece la posición inicial del coche","resetBtnMoves":"Borrar la secuencia de movimientos actual"},"eu":{"defineCarMoves":"Zeharrekinen sekuentzia definitzen du karga-geltokira iristeko.","executeSequenceOfMoves":"Exekutatu sekuentzia","gameRules":["Gidatu autoa karga-geltokira.","Autoak balaztak apurtuta dauzka. Aurrera egiten duen bakoitzean, eraman autoa errepidearen amaierara.","Autoa aurrera egiten duen bakoitzean, bateriaren guztizko edukieraren %16 baino gehiago kontsumitzen du."],"resetBtn":"Berrezarri","resetBtnCar":"Automobilaren lehenengo posizioa berrezarri","resetBtnMoves":"Garapen-sekuentzia egungo ezabatu"},"fr":{"defineCarMoves":"Définit la séquence des mouvements nécessaires pour atteindre la station de charge.","executeSequenceOfMoves":"Exécuter la séquence","gameRules":["Conduisez la voiture jusqu\'à la station de recharge.","Les freins de la voiture sont cassés. Chaque fois qu\'elle avance, conduisez la voiture jusqu\'au bout de la route.","Chaque fois que la voiture avance, elle consomme un peu plus de 16% de la capacité totale de la batterie."],"resetBtn":"Réinitialiser","resetBtnCar":"Réinitialiser la position initiale de la voiture","resetBtnMoves":"Effacer la séquence de mouvements actuelle"},"it":{"defineCarMoves":"Definisce la sequenza di movimenti necessari per raggiungere la stazione di ricarica.","executeSequenceOfMoves":"Esegui la sequenza","gameRules":["Guida l\'auto fino alla stazione di ricarica.","I freni dell\'auto sono rotti. Ogni volta che avanza, porta l\'auto fino alla fine della strada.","Ogni volta che l\'auto avanza, consuma un po\' più del 16% della capacità totale della batteria."],"resetBtn":"Reset","resetBtnCar":"Ripristina la posizione iniziale dell\'auto","resetBtnMoves":"Cancella la sequenza di movimenti attuale"},"ja":{"defineCarMoves":"充電ステーションに到達するために必要な動きのシーケンスを定義します。","executeSequenceOfMoves":"動きのシーケンスを実行","gameRules":["車を充電ステーションまで運転します。","車のブレーキは壊れています。前進するたびに、車を道路の端まで運転します。","車が前進するたびに、バッテリーの総容量の16%以上を消費します。"],"resetBtn":"リセット","resetBtnCar":"車の初期位置をリセット","resetBtnMoves":"現在の動きのシーケンスを消去"},"pt":{"defineCarMoves":"Define a sequência de movimentos necessários para chegar à estação de carregamento.","executeSequenceOfMoves":"Executar seqüência","gameRules":["Conduza o carro até a estação de carregamento.","Os freios do carro estão quebrados. Toda vez que ele avança, leve o carro até o final da estrada.","Toda vez que o carro avança, ele consome um pouco mais de 16% da capacidade total da bateria."],"resetBtn":"Redefinir","resetBtnCar":"Redefinir posição inicial do carro","resetBtnMoves":"Limpar sequência atual de movimentos"},"ro":{"defineCarMoves":"Definește secvența de mișcări necesare pentru a ajunge la stația de încărcare.","executeSequenceOfMoves":"Executa secvența","gameRules":["Condu mașina până la stația de încărcare.","Frânele mașinii sunt stricate. De fiecare dată când înaintează, condu mașina până la capătul drumului.","De fiecare dată când mașina înaintează, consumă puțin mai mult de 16% din capacitatea totală a bateriei."],"resetBtn":"Resetare","resetBtnCar":"Resetați poziția inițială a mașinii","resetBtnMoves":"Ștergeți secvența actuală de mișcări"},"ru":{"defineCarMoves":"Определяет последовательность движений, необходимых для достижения зарядной станции.","executeSequenceOfMoves":"Последовательность запуска","gameRules":["Довести машину до зарядной станции.","У машины сломаны тормоза. Каждый раз, когда она движется вперед, доведите машину до конца дороги.","Каждый раз, когда машина движется вперед, она потребляет немного больше 16% от общей емкости батареи."],"resetBtn":"Сброс","resetBtnCar":"Сбросить начальное положение машины","resetBtnMoves":"Очистить текущую последовательность движений"},"zh":{"defineCarMoves":"定义到达充电站所需的运动序列。","executeSequenceOfMoves":"运行顺序","gameRules":["将车开到充电站。","汽车的刹车坏了。每次前进时，将汽车开到道路的尽头。","每次汽车前进时，它会消耗总电池容量的16%以上。"],"resetBtn":"重置","resetBtnCar":"重置汽车的初始位置","resetBtnMoves":"清除当前移动序列"}}'),delete e.options._Ctor}},785:function(e,t,r){"use strict";r.r(t);var n=r(768),o=r(702),c=r(701),l={name:"YrnAlertText",props:{border:{default:"left",required:!1,type:String},color:{default:"blue-grey",required:!1,type:String},paragraphs:{required:!0,type:Object}},computed:{localizedParagraphs:function(){var e,t;return null!==(e=null===(t=this.paragraphs)||void 0===t?void 0:t[this.$i18n.locale])&&void 0!==e?e:[]}}},d=(r(745),r(23)),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t(c.a,{staticClass:"yrn-alert-text"},[t(o.a,[t(n.a,{attrs:{border:e.border,color:e.color}},e._l(e.localizedParagraphs,(function(r,n){return t("p",{key:n},[e._v("\n        "+e._s(r)+"\n      ")])})),0)],1)],1)}),[],!1,null,"45cecba4",null);t.default=component.exports},823:function(e,t,r){"use strict";var n=r(766),o=r.n(n);t.default=o.a},852:function(e,t,r){"use strict";r.r(t);var n=r(322),o=r(702),c=r(705),l=r(775),d=r(777),h=r(776),v=r(774),f=r(243),m=r(291),y=r(184),w=r(36),x=r(296),C=r(701),_=r(17),k=r(1),M=(r(24),r(3),r(6),r(21),r(47),r(34),r(44),r(429),r(323),r(8),r(764),r(428),r(765)),B={name:"YrnFindPathGame",props:{activityId:{required:!0,type:[Number,String]},challengeId:{required:!0,type:[Number,String]},exerciseId:{required:!0,type:[Number,String]},showIfExerciseId:{required:!0,type:[Number,String]},customBoard:{default:null,required:!1,type:Array},maxMoves:{default:-1,required:!0,type:Number},numCols:{default:7,required:!1,type:Number},numRows:{default:5,required:!1,type:Number},useDefaultMovement:{default:!1,required:!1,type:Boolean},contextParagraphs:{required:!0,type:Object}},data:function(){return{board:[],batteryLevel:100,batteryLevelText:null,batteryText:null,car:null,carBatteryIndicator:null,carColor:"Red",carDirections:{north:"NORTH",east:"EAST",south:"SOUTH",west:"WEST"},carModel:"COUPE",config:{autoRound:!1,fps:{target:30,forceSetTimeOut:!0},height:542,parent:"phaserContainer",physics:{default:"arcade",arcade:{gravity:{y:200}}},scale:{parent:"phaserContainer",mode:M.Scale.WIDTH_CONTROLS_HEIGHT},scene:[],type:M.AUTO,width:862},currentTile:{spriteDirection:"SOUTH",x:0,y:0},draggableItemsTitle:{ar:":التنقلات المتوفرة",ca:"Moviments disponibles:",de:"Verfügbare Bewegungen:",en:"Available moves:",es:"Movimientos disponibles:",eu:"Jakinarazpenak eskura:",fr:"Déplacements disponibles:",gl:"Movementos dispoñíbeis:",it:"Spostamenti disponibili:",ja:"使用可能な移動:",pt:"Movimentos disponíveis:",ru:"Доступные движения:",zh:"可用移动："},dropAreaTitle:{ar:":التنقلات المطلوبة",ca:"Moviments necessaris:",de:"Benötigte Bewegungen:",en:"Required moves:",es:"Movimientos necesarios:",eu:"Ezabakizunak behar duenak:",fr:"Déplacements nécessaires:",gl:"Movementos necesarios:",it:"Spostamenti necessari:",ja:"必要な移動:",pt:"Movimentos necessários:",ru:"Необходимые движения:",zh:"所需移动："},game:null,gameDone:!1,gameUIButtons:[],isMoving:!1,keyboardEventCodes:{arrowUp:"ArrowUp",arrowDown:"ArrowDown",arrowLeft:"ArrowLeft",arrowRight:"ArrowRight"},moveTween:null,moveQueue:[],movementsUsed:0,offsetX:20,offsetY:22,propsByKeyboardEventCodes:{customMoves:{},defaultMoves:{}},textureKeys:{carElectricCharger:"car_electric_charger_texture",minecraftDeepFloor:"minecraft_deep_floor_texture",sceneBackground:"scene_background_texture"},tileSize:100,usedBatteryIndicator:null}},computed:{carReachedLastPosition:function(){var e=this.currentTile.x,t=this.currentTile.y,r=this.board.length;return e===this.board[0].length-1&&t===r-1},exerciseSolution:function(){var e,t;return null!==(e=null===(t=this.$store)||void 0===t||null===(t=t.getters["learningUnit/getExercise"](this.activityId,this.challengeId,this.exerciseId))||void 0===t?void 0:t.solution)&&void 0!==e?e:{}},listTwo:function(){return this.exerciseSolution.isValid?this.exerciseSolution.expected:[]},showIfExerciseSolution:function(){var e,t;return null!==(e=null===(t=this.$store)||void 0===t||null===(t=t.getters["learningUnit/getExercise"](this.activityId,this.challengeId,this.showIfExerciseId))||void 0===t?void 0:t.solution)&&void 0!==e?e:{}},showComponent:function(){var e,t;return null!==(e=null===(t=this.showIfExerciseSolution)||void 0===t?void 0:t.isValid)&&void 0!==e&&e}},created:function(){if(this.gameUIButtons=[{carDirection:this.carDirections.west,icon:"mdi-arrow-left-top",keyboardDirection:this.keyboardEventCodes.arrowLeft,name:"customPhaserCarMoveLeft",title:{ar:"استدر لليسار",ca:"Gira a l'esquerra",de:"Nach links abbiegen",en:"Turn left",es:"Girar a la izquierda",eu:"Ezkerrera biratu",fr:"Tourner à gauche",gl:"Xirar á esquerda",it:"Gira a sinistra",ja:"左に曲がる",pt:"Vire à esquerda",ro:"Virează la stânga",ru:"Повернуть налево",zh:"左转"}},{carDirection:this.carDirections.east,icon:"mdi-arrow-right-top",keyboardDirection:this.keyboardEventCodes.arrowRight,name:"customPhaserCarMoveRight",title:{ar:"استدر لليمين",ca:"Gira a la dreta",de:"Nach rechts abbiegen",en:"Turn right",es:"Girar a la derecha",eu:"Eskuinera biratu",fr:"Tourner à droite",gl:"Xirar á dereita",it:"Gira a destra",ja:"右に曲がる",pt:"Vire à direita",ro:"Virează la dreapta",ru:"Повернуть направо",zh:"右转"}},{carDirection:void 0,icon:"mdi-arrow-up",keyboardDirection:this.keyboardEventCodes.arrowUp,name:"customPhaserCarMoveStraight",title:{ar:"اذهب مباشرة",ca:"Avança recte",de:"Geradeaus fahren",en:"Go straight",es:"Avanzar recto",eu:"Zuzenean aurrera egin",fr:"Aller tout droit",gl:"Avanzar recto",it:"Vai dritto",ja:"まっすぐ進む",pt:"Avance reto",ro:"Mergi drept înainte",ru:"Продолжать прямо",zh:"直行"}}],this.propsByKeyboardEventCodes.customMoves=Object(k.a)(Object(k.a)(Object(k.a)(Object(k.a)({},this.keyboardEventCodes.arrowUp,{}),this.keyboardEventCodes.arrowDown,{}),this.keyboardEventCodes.arrowLeft,{carDirection:this.carDirections.west}),this.keyboardEventCodes.arrowRight,{carDirection:this.carDirections.east}),this.propsByKeyboardEventCodes.defaultMoves=Object(k.a)(Object(k.a)(Object(k.a)(Object(k.a)({},this.keyboardEventCodes.arrowUp,{deltaRowIndex:-1,deltaColumnIndex:0,carDirection:this.carDirections.north}),this.keyboardEventCodes.arrowDown,{deltaRowIndex:1,deltaColumnIndex:0,carDirection:this.carDirections.south}),this.keyboardEventCodes.arrowLeft,{deltaRowIndex:0,deltaColumnIndex:-1,carDirection:this.carDirections.west}),this.keyboardEventCodes.arrowRight,{deltaRowIndex:0,deltaColumnIndex:1,carDirection:this.carDirections.east}),Array.isArray(this.customBoard))this.board=this.customBoard;else do{this.board=this.createBoard({numRows:this.numRows,numCols:this.numCols})}while(!1===this.checkIfPathExists())},mounted:function(){this.initPhaserGame()},methods:{addBackgroundImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.textureKeys.sceneBackground,r=e.sys.game.canvas,n=r.width,o=r.height,c=e.add.image(n/2,o/2,t),l=n/c.width,d=o/c.height,h=Math.max(l,d);c.setOrigin(.5,.5).setScale(h).setDepth(-2)},addPhaserBoard:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offsetX,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.offsetY,o=this.tileSize,c=o-5600/this.tileSize*this.tileSize/100,l=this.board.length-1,d=this.board[0].length-1,h=c;this.board.forEach((function(v,f){v.forEach((function(element,v){var m=v*o+o/2+r,y=f*o+o/2+n;if(t.drawPhaserSquare(e,m,y,c),element.down&&t.drawPhaserLine(e,m,y+c/2,m,y+o-c/2,h),element.right&&t.drawPhaserLine(e,m+c/2,y,m+o-c/2,y,h),element.up&&t.drawPhaserLine(e,m,y-c/2,m,y-o+c/2,h),element.left&&t.drawPhaserLine(e,m-c/2,y,m-o+c/2,y,h),f===l&&v===d){var w=m+o,x=y;t.addPhaserCarStation(e,w,x)}}))}))},addPhaserCar:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offsetX,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.offsetY;try{this.car=e.add.sprite(this.tileSize/2+t,this.tileSize/2+r/2,"car_spritesheet_".concat(this.currentTile.spriteDirection)),this.car.setOrigin(.5),this.car.setScale(1.5),this.car.play("car_animation_".concat(this.currentTile.spriteDirection))}catch(e){console.error("Error adding car to scene: %o",e)}},addPhaserCarBatteryIndicator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.scene[0],t=e.sys.game.canvas.height/2,r={color:"#ffffff",fontSize:"13px",align:"center",fontFamily:"MartelSans, monospace"};this.carBatteryIndicator||(this.carBatteryIndicator=e.add.graphics(),this.carBatteryIndicator.fillStyle(65280),this.carBatteryIndicator.fillRect(e.sys.game.canvas.width-60-30,50,60,t)),this.batteryText||(this.batteryText=e.add.text(e.sys.game.canvas.width-60-30,50+t+10,"BATTERY",r),this.batteryText.setOrigin(0)),r.fontSize="20px",this.batteryLevelText=e.add.text(e.sys.game.canvas.width-60-30,50+t+25,"".concat(this.getBatteryLevel(),"%"),r),this.batteryLevelText.setOrigin(0)},addPhaserCarStation:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.offsetX,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.offsetY,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.textureKeys.carElectricCharger;this.carElectricCharger=e.add.image(t+n,r+o,c),this.carElectricCharger.setOrigin(.7,.9)},addPhaserControls:function(e){var t,r=this;t=this.useDefaultMovement?this.propsByKeyboardEventCodes.defaultMoves:this.propsByKeyboardEventCodes.customMoves,e.input.keyboard.on("keydown",(function(e){if(!r.isMoving){var n=t[e.code];if(n){var o=n.deltaColumnIndex,c=n.deltaRowIndex,l=n.carDirection;r.movePhaserCar(e.code,l,o,c)}}}))},addPhaserText:function(e,t,r,text,n){e.add.text(t,r,text,n).setOrigin(.5)},animateBatteryLevelText:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.scene[0];if(this.batteryLevelText){var r={level:0};t.tweens.add({targets:r,level:100,duration:5e3,ease:"Cubic.easeInOut",onUpdate:function(){e.batteryLevelText.setText("".concat(Math.floor(r.level),"%"))}})}else console.error("Battery level text has not been initialized.")},changeCarSprite:function(e){var t="".concat(this.$config.baseURL,"/img/phaserjs/top-down-vehicles/").concat(this.carModel,"/")+"".concat(this.carColor,"/MOVE/").concat(e,"/").concat(this.carColor,"_").concat(this.carModel)+"_CLEAN_".concat(e,"_000-sheet.png");this.car.anims.stop(),this.car.setTexture(t),this.car.play("car_animation_".concat(e)),this.$set(this.currentTile,"spriteDirection",e)},checkMove:function(e,t,r,n,o){if(e<0||t<0||e>=this.board.length||t>=this.board[0].length||r<0||n<0||r>=this.board.length||n>=this.board[0].length)return!1;var c=this.board[e][t],l=this.board[r][n];switch(o){case this.keyboardEventCodes.arrowDown:return(c.down||l.up)&&r>e;case this.keyboardEventCodes.arrowLeft:return(c.left||l.right)&&n<t;case this.keyboardEventCodes.arrowUp:return(c.up||l.down)&&r<e;case this.keyboardEventCodes.arrowRight:return(c.right||l.left)&&n>t;default:return!1}},createBoard:function(){var e,t,r,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=o.numRows,l=o.numCols,d=o.maxWeight;return c=null!==(e=c)&&void 0!==e?e:this.$getRandomInt(3,5),l=null!==(t=l)&&void 0!==t?t:this.$getRandomInt(3,7),d=null!==(r=d)&&void 0!==r?r:this.$getRandomInt(3,10),Array.from({length:c},(function(e,t){return Array.from({length:l},(function(e,r){return n.createBoardElement(t,r,c,l)}))}))},createBoardElement:function(e,t,r,n){var o=this,c=e>0&&this.$getRandomBoolean(),l=e<r-1&&this.$getRandomBoolean(),d=t>0&&this.$getRandomBoolean(),h=t<n-1&&this.$getRandomBoolean(),v=function(e){return e?o.$getRandomInt(1,10):0};return{up:c,down:l,left:d,right:h,weightUp:v(c),weightDown:v(l),weightLeft:v(d),weightRight:v(h),rowIndex:this.$castIndexToCharacter(e,!0),columnIndex:this.$castIndexToCharacter(t,!0)}},checkIfPathExists:function(){var e=this.board.length,t=this.board[0].length,r=new Array(e).fill(!1).map((function(){return new Array(t).fill(!1)}));return function n(o,col){if(o<0||o>=e||col<0||col>=t||r[o][col])return!1;if(r[o][col]=!0,o===e-1&&col===t-1)return!0;for(var c=0,l=[[1,0],[-1,0],[0,1],[0,-1]];c<l.length;c++){var d=Object(_.a)(l[c],2);if(n(o+d[0],col+d[1]))return!0}return r[o][col]=!1,!1}(0,0)},customPhaserCarMove:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;arguments.length>4&&void 0!==arguments[4]||this.offsetX,arguments.length>5&&void 0!==arguments[5]||this.offsetY;c=null!==(e=c)&&void 0!==e?e:this.currentTile.spriteDirection;var l=this.config.scene[0],d=this.currentTile.y,h=d,v=this.currentTile.x,f=v;if(o!==this.keyboardEventCodes.arrowDown){if(o===this.keyboardEventCodes.arrowUp){var m={NORTH:this.keyboardEventCodes.arrowUp,SOUTH:this.keyboardEventCodes.arrowDown,EAST:this.keyboardEventCodes.arrowRight,WEST:this.keyboardEventCodes.arrowLeft};switch(this.currentTile.spriteDirection){case this.carDirections.north:r=-1,n=0;break;case this.carDirections.south:r=1,n=0;break;case this.carDirections.east:r=0,n=1;break;case this.carDirections.west:r=0,n=-1;break;default:console.error("Unknown sprite direction: ".concat(this.currentTile.spriteDirection)),r=0,n=0}for(;this.checkMove(d,v,d+r,v+n,m[c]);)d+=r,v+=n}else this.turnPhaserCar(o,c);var y=500*Math.max(Math.abs(v-this.currentTile.x),Math.abs(d-this.currentTile.y)),w=d*this.tileSize+this.tileSize/2+this.offsetY/2,x=v*this.tileSize+this.tileSize/2+this.offsetX;this.currentTile.y=d,this.currentTile.x=v,this.isMoving=!0,this.moveTween&&this.moveTween.stop(),this.moveTween=l.tweens.add({targets:this.car,y:w,x:x,duration:y,ease:"Linear",onComplete:function(){t.isMoving=!1,t.moveTween=null,o!==t.keyboardEventCodes.arrowUp||v===f&&d===h||t.updatePhaserCarBatteryIndicator(!0),t.executeNextMove()}})}},defaultPhaserCarMove:function(e,t,r,n){var o=this,c=this.config.scene[0],l=this.currentTile.x+t,d=this.currentTile.y+e;if(!(l<0||d<0||l>=this.board[0].length||d>=this.board.length))if(this.isDiagonalMove(e,t))console.warn("Movimiento no válido, no se puede mover en diagonal");else if(this.checkMove(this.currentTile.y,this.currentTile.x,d,l,r)){var h=l*this.tileSize+this.tileSize/2,v=d*this.tileSize+this.tileSize/2;this.currentTile.x=l,this.currentTile.y=d,this.isMoving=!0,this.moveTween&&this.moveTween.stop(),this.moveTween=c.tweens.add({targets:this.car,x:h,y:v,duration:500,ease:"Linear",onComplete:function(){o.isMoving=!1,o.moveTween=null}}),this.changeCarSprite(n)}},drawPhaserLine:function(e,t,r,n,o,c){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.textureKeys.minecraftDeepFloor,d=n-t,h=o-r,v=Math.sqrt(d*d+h*h),f=Math.atan2(h,d),line=e.add.tileSprite((t+n)/2,(r+o)/2,v,c,l);line.setOrigin(.5,.5),line.rotation=f},drawPhaserSquare:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.textureKeys.minecraftDeepFloor;e.add.tileSprite(t,r,n,n,o).setDepth(-1)},executeNextMove:function(){if(this.movementsUsed<this.maxMoves&&this.moveQueue.length>0){var e=this.moveQueue.shift(),t=e.carDirection,r=e.keyboardDirection;this.movePhaserCar(r,t)}},executeSequenceOfMoves:function(){var e=this.$refs.dragAndDropComponent;if(e&&e.list2){var t=e.list2;this.moveQueue=t.map((function(e){return{carDirection:e.carDirection,keyboardDirection:e.keyboardDirection}})),this.executeNextMove()}else console.error("Error: No se pudo obtener list2 desde YrnDragAndDropWithTwoLists")},fillPhaserCarBatteryIndicator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.scene[0];this.animateBatteryLevelText(),e.tweens.add({targets:this.usedBatteryIndicator,scaleY:0,duration:5e3,ease:"Cubic.easeInOut"})},getBatteryLevel:function(){var e,t=this.movementsUsed/this.maxMoves*100;return null===(e=window)||void 0===e||null===(e=e.Math)||void 0===e?void 0:e.floor(100-t)},initPhaserGame:function(){var e=this,t=new M.Scene("GameScene");t.preload=function(){t.load.image(e.textureKeys.carElectricCharger,"".concat(e.$config.baseURL,"/img/phaserjs/car-stations/100x100/car-electric-charger.png")),t.load.image(e.textureKeys.minecraftDeepFloor,"".concat(e.$config.baseURL,"/img/phaserjs/textures/100x100/minecraft-deep-floor.jpg")),t.load.image(e.textureKeys.sceneBackground,"".concat(e.$config.baseURL,"/img/phaserjs/backgrounds/main.jpg")),Object.values(e.carDirections).forEach((function(r){t.load.spritesheet("car_spritesheet_".concat(r),"".concat(e.$config.baseURL,"/img/phaserjs/top-down-vehicles/").concat(e.carModel,"/").concat(e.carColor,"/")+"MOVE/".concat(r,"/").concat(e.carColor,"_").concat(e.carModel)+"_CLEAN_".concat(r,"_000-sheet.png"),{frameWidth:100,frameHeight:100})}))},t.create=function(){Object.values(e.carDirections).forEach((function(e){t.anims.create({key:"car_animation_".concat(e),frames:t.anims.generateFrameNumbers("car_spritesheet_".concat(e),{start:0,end:11,first:0}),frameRate:12,repeat:-1})})),e.addBackgroundImage(t),e.addPhaserBoard(t),e.addPhaserCar(t),e.addPhaserCarBatteryIndicator(t)},this.config.scene.push(t),this.game=new M.Game(this.config)},isDiagonalMove:function(e,t){return!(Math.abs(e)+Math.abs(t)===1)},makePhaserElementBlink:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.scene[0],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){e.alpha=1;for(var i=0;i<t;i++)r.tweens.add({alpha:0,duration:250,ease:"Linear",repeat:1,targets:e,yoyo:!0,onComplete:function(){"function"==typeof n&&n()}})}},movePhaserCar:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.useDefaultMovement?this.defaultPhaserCarMove(r,n,e,t):this.customPhaserCarMove(r,n,e,t)},resetCarPosition:function(){if(this.car){var e=this.offsetX,t=this.offsetY,r=this.tileSize/2+e,n=this.tileSize/2+t/2;this.car.setPosition(r,n),this.changeCarSprite(this.carDirections.south),this.currentTile={spriteDirection:"SOUTH",x:0,y:0},this.gameDone=!1,this.movementsUsed=0,this.makePhaserElementBlink(this.car),this.updatePhaserCarBatteryIndicator()}},resetGame:function(){this.resetMoveSequence(),this.resetCarPosition(),this.updatePhaserCarBatteryIndicator()},resetMoveSequence:function(){this.$refs.dragAndDropComponent.resetList2()},turnPhaserCar:function(e){var t,r=Object.values(this.carDirections).indexOf(this.currentTile.spriteDirection);e===this.keyboardEventCodes.arrowRight?(t=r+1)===Object.keys(this.carDirections).length&&(t=0):e===this.keyboardEventCodes.arrowLeft&&-1===(t=r-1)&&(t=Object.keys(this.carDirections).length-1);var n=Object.keys(this.carDirections)[t];this.changeCarSprite(this.carDirections[n])},updatePhaserCarBatteryIndicator:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.scene[0],n=r.sys.game.canvas.width-60-30,o=r.sys.game.canvas.height/2;if(t){this.movementsUsed++;var c=100*this.movementsUsed/this.maxMoves/100,l=100/this.maxMoves/100;this.usedBatteryIndicator||(this.usedBatteryIndicator=r.add.graphics().setAlpha(0).setPosition(n,50).setDepth(Number.MAX_SAFE_INTEGER).fillStyle(16711680,1).fillRect(0,0,60,o)),r.tweens.add({targets:this.usedBatteryIndicator,scaleY:c,duration:500,ease:"Power1",onComplete:function(){c.toFixed(2)===l.toFixed(2)&&e.makePhaserElementBlink(e.usedBatteryIndicator)}})}else this.batteryLevelText.destroy(),this.usedBatteryIndicator&&(this.usedBatteryIndicator.destroy(),this.usedBatteryIndicator=null),this.addPhaserCarBatteryIndicator();if(this.batteryLevelText.setText("".concat(this.getBatteryLevel(),"%")),this.carReachedLastPosition)this.gameDone=!0,r.time.delayedCall(2e3,(function(){var t,n;e.fillPhaserCarBatteryIndicator(r),null===(t=e.$store)||void 0===t||t.commit("learningUnit/setExerciseSolutionIsValid",{activityId:e.activityId,challengeId:e.challengeId,exerciseId:e.exerciseId,isValid:!0}),null===(n=e.$store)||void 0===n||n.dispatch("snackbarNotification/show",{i18n:e.$i18n,memojiName:"director-bien",success:!0})}));else if(this.movementsUsed>=this.maxMoves){var d,h;this.makePhaserElementBlink(this.car,10,r,(function(){e.resetGame()})),this.$store.commit("increaseErrorsCount"),null===(d=this.$store)||void 0===d||d.commit("learningUnit/setExerciseSolutionIsValid",{activityId:this.activityId,challengeId:this.challengeId,exerciseId:this.exerciseId,isValid:!1}),null===(h=this.$store)||void 0===h||h.dispatch("snackbarNotification/show",{i18n:this.$i18n,memojiName:"director-mal",success:!1,defaultTextKey:"batteryDown"})}}}},D=B,T=r(23),E=r(823),component=Object(T.a)(D,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"vue-transition-fade"}},[t(c.a,{directives:[{name:"show",rawName:"v-show",value:e.showComponent,expression:"showComponent"}],staticClass:"yrn-find-path-game pa-0",attrs:{fluid:""}},[t(C.a,[t(o.a,[t("yrn-alert-text",{attrs:{paragraphs:e.contextParagraphs,border:"top"}})],1)],1),e._v(" "),t(C.a,[t(o.a,[t(v.a,[t(l.a,[t(h.a,{scopedSlots:e._u([{key:"actions",fn:function(){return[t(f.a,{attrs:{color:"teal"}},[e._v("\n                  mdi-information-variant-circle\n                ")])]},proxy:!0}])},[t("h2",[e._v("\n                "+e._s(e.$t("defineCarMoves"))+"\n              ")])]),e._v(" "),t(d.a,[t("ul",e._l(e.$t("gameRules"),(function(r,n){return t("li",{key:n},[e._v("\n                  "+e._s(e.$t("gameRules[".concat(n,"]")))+"\n                ")])})),0)])],1)],1)],1)],1),e._v(" "),t(C.a,{staticClass:"mt-2 overflow-hidden"},[t(o.a,{staticClass:"overflow-y-auto",style:"max-height: calc(100vh - ".concat(e.$vuetify.breakpoint.mdAndUp?72:64,"px);"),attrs:{xl:"4",lg:"4",md:"5",sm:"12",xs:"12",cols:"12",order:e.$vuetify.breakpoint.mdAndUp?"last":"first"}},[t("yrn-drag-and-drop-with-two-lists",{ref:"dragAndDropComponent",attrs:{"draggable-items-title":e.draggableItemsTitle,"drop-area-title":e.dropAreaTitle,"list-one":e.gameUIButtons,"list-two":e.listTwo,"visible-property":"title"},scopedSlots:e._u([{key:"bottom",fn:function(){return[t(C.a,[t(o.a,{staticClass:"d-flex justify-center"},[t(x.a,{attrs:{top:"","close-on-content-click":""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[t(n.a,e._g(e._b({attrs:{block:"",color:"deep-orange","x-large":""}},"v-btn",c,!1),o),[e._v("\n                      "+e._s(e.$t("resetBtn"))+"\n                    ")])]}}])},[e._v(" "),t(m.a,[t(y.a,{on:{click:function(t){return e.resetCarPosition()}}},[t(w.b,[e._v("\n                        "+e._s(e.$t("resetBtnCar"))+"\n                      ")])],1),e._v(" "),t(y.a,{on:{click:function(t){return e.resetMoveSequence()}}},[t(w.b,[e._v("\n                        "+e._s(e.$t("resetBtnMoves"))+"\n                      ")])],1)],1)],1)],1),e._v(" "),t(o.a,{staticClass:"d-flex justify-center"},[t(n.a,{attrs:{block:"",color:"primary","x-large":""},on:{click:function(t){return e.executeSequenceOfMoves()}}},[t(f.a,{staticClass:"mr-2"},[e._v("\n                    mdi-play\n                  ")]),e._v("\n                  "+e._s(e.$t("executeSequenceOfMoves"))+"\n                ")],1)],1)],1)]},proxy:!0}])})],1),e._v(" "),t(o.a,{attrs:{xl:"8",lg:"8",md:"7",sm:"12",xs:"12",cols:"12"}},[t("div",{attrs:{id:"phaserContainer"}})])],1)],1)],1)}),[],!1,null,null,null);"function"==typeof E.default&&Object(E.default)(component);t.default=component.exports;installComponents(component,{YrnAlertText:r(785).default,YrnDragAndDropWithTwoLists:r(736).default})}}]);